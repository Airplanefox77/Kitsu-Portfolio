<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kitsu ‚Äî Portfolio</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
 <style>
  :root {
    --glass: rgba(255,255,255,.18);
    --stroke: rgba(255,255,255,.35);
    --pink: #ff4fd8;
    --blue: #5ac8ff;
    --purple: #A200FF;
  }

  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    min-height: 100vh;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    background:
      radial-gradient(1200px 800px at 10% 10%, rgba(255, 79, 216,.25), transparent 70%),
      radial-gradient(1000px 700px at 90% 20%, rgba(90, 200, 255,.25), transparent 70%),
      linear-gradient(180deg, #0b0f14, #0b0f14),
      linear-gradient(180deg, #f9f9f9, #e0e0e0);
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
    color: #f7f9fc;
  }

  .glass {
    background: var(--glass);
    backdrop-filter: blur(14px) saturate(140%);
    -webkit-backdrop-filter: blur(14px) saturate(140%);
    border: 1px solid var(--stroke);
    box-shadow: 0 10px 30px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.15);
  }

  .accent-text {
    background: linear-gradient(90deg, var(--pink), var(--blue));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .tag {
    border: 1px solid rgba(255,255,255,.35);
  }

  [contenteditable="true"] {
    outline: 2px dashed rgba(255,255,255,.25);
    outline-offset: 2px;
    border-radius: .75rem;
  }

  .hidden-edit-toggle {
    opacity: .25;
    transition: opacity .2s, transform .2s;
  }
  .hidden-edit-toggle:hover {
    opacity: 1;
    transform: scale(1.05);
  }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(var(--pink), var(--blue));
    border-radius: 999px;
  }

  .glow-link {
    position: relative;
  }
  .glow-link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -2px;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, var(--pink), var(--blue));
    border-radius: 99px;
    opacity: .8;
  }

  /* Card with hover effect */
  .card {
    padding: 20px;
    margin: 10px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    color: #000;
  }
  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.2);
  }

  /* Work-card tweaks (keeps glass style but readable) */
  .work-card {
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .work-card:hover { transform: translateY(-4px); }

  /* Modal */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.6);
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.25s ease forwards;
    padding: 24px;
  }
  .modal-content {
    background: white;
    padding: 22px;
    border-radius: 16px;
    max-width: 780px;
    width: 100%;
    text-align: left;
    animation: scaleUp 0.25s ease forwards;
    color: #000;
    position: relative;
  }
  .modal .modal-header {
    display:flex; align-items:center; justify-content:space-between; gap:12px;
  }
  .modal .modal-title { font-size:1.25rem; font-weight:700; }
  .modal .modal-body { margin-top:12px; color:#222; }
  .modal .modal-tags { margin-top:14px; display:flex; gap:8px; flex-wrap:wrap; }
  .modal .modal-thumbnail {
    width:96px; height:96px; border-radius:12px; object-fit:cover; background:#f3f3f3; flex-shrink:0;
  }

  .close {
    font-size: 28px;
    cursor: pointer;
    position: absolute;
    right: 14px;
    top: 10px;
    color: #444;
  }

  @keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
  }
  @keyframes scaleUp {
    from {transform: scale(0.96);}
    to {transform: scale(1);}
  }

  @media (max-width: 640px) {
    .glass { padding: 14px; }
    .modal .modal-header { flex-direction:column; align-items:flex-start; gap:8px; }
    .modal .modal-thumbnail { width:100%; height:160px; border-radius:10px; }
  }
</style>
</head>
<body class="min-h-full">
  <!-- Top nav -->
  <header class="sticky top-0 z-40">
    <div class="glass mx-auto max-w-6xl mt-4 rounded-2xl px-5 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-full overflow-hidden flex items-center justify-center" style="min-width:36px; min-height:36px;">
          <img id="avatar" src="https://avatars.githubusercontent.com/u/105670354?v=4" alt="Kitsu avatar" class="w-9 h-9 rounded-full object-cover" onerror="this.style.display='none'; document.getElementById('avatarFallback').style.display='flex'">
          <div id="avatarFallback" class="w-9 h-9 rounded-full flex items-center justify-center" style="display:none; background:linear-gradient(135deg,var(--pink),var(--blue));">
            <span class="text-black font-bold">K</span>
          </div>
        </div>
        <div class="text-sm text-white/80">Pink & Blue ‚ú¶ Transparent ‚ú¶ Editable</div>
      </div>

      <nav class="hidden sm:flex gap-6 text-white/80">
        <a href="#about" class="hover:text-white glow-link">About</a>
        <a href="#work" class="hover:text-white glow-link">Work</a>
        <a href="#contact" class="hover:text-white glow-link">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-6xl px-5 pt-10">
    <div class="glass rounded-3xl p-8 md:p-12 flex flex-col md:flex-row items-center gap-8">
      <div class="flex-1">
        <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">
          Hewwo, I'm <span class="accent-text">Kitsu</span> <span class="text-white/80" contenteditable="false" data-edit-key="tagline">‚Äî a creative fox who writes, draws, and codes lil' toys :3</span>
        </h1>
        <p class="mt-4 text-white/80" contenteditable="false" data-edit-key="intro">
          I make cozy stories, pencil sketches, and playful web tools. I also tinker with Discord status apps and game UIs.
        </p>
        <div class="mt-5 flex flex-wrap gap-2">
          <span class="tag glass text-xs px-3 py-1 rounded-full" contenteditable="false" data-edit-key="tag1">Writing</span>
          <span class="tag glass text-xs px-3 py-1 rounded-full" contenteditable="false" data-edit-key="tag2">Art</span>
          <span class="tag glass text-xs px-3 py-1 rounded-full" contenteditable="false" data-edit-key="tag3">Code</span>
          <span class="tag glass text-xs px-3 py-1 rounded-full" contenteditable="false" data-edit-key="tag4">Roblox</span>
        </div>
        <div class="mt-6 flex gap-3">
          <a href="#work" class="glass rounded-xl px-4 py-2">See my work ‚Üí</a>
          <button id="secretBow" class="rounded-xl px-4 py-2 border border-white/30" title=":3">üéÄ</button>
        </div>
      </div>
      <div class="w-full md:w-80">
        <div class="glass rounded-3xl p-6">
          <div class="text-sm text-white/80">Currently</div>
          <div class="mt-2 text-xl font-semibold" contenteditable="false" data-edit-key="current">Building AGS ‚Äî a Discord Rich Presence tool</div>
          <div class="mt-2 text-white/70" contenteditable="false" data-edit-key="current-desc">Auto-detects supported games and updates status with rich details.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="mx-auto max-w-6xl px-5 pt-10">
    <div class="grid md:grid-cols-2 gap-6">
      <article class="glass rounded-3xl p-8">
        <h2 class="text-2xl font-bold mb-3">About me</h2>
        <p class="text-white/80" contenteditable="false" data-edit-key="about">
          I'm Kitsu (he/they) ‚Äî a fluffy white & pink fox who loves crafting worlds, sketching with pencil & paper, and chatting with friends on Discord. I enjoy building small, delightful tools and learning new tricks along the way.
        </p>
        <ul class="mt-4 space-y-2 text-white/80">
          <li>‚ú® <span contenteditable="false" data-edit-key="about-1">I write the 'Void Saga' and tinker with lore.</span></li>
          <li>üñäÔ∏è <span contenteditable="false" data-edit-key="about-2">I draw characters and outfit concepts (bows!!).</span></li>
          <li>üïπÔ∏è <span contenteditable="false" data-edit-key="about-3">I play Roblox (Madcity, PlaneCrazy, KnifeFight).</span></li>
        </ul>
      </article>
      <aside class="glass rounded-3xl p-8">
        <h3 class="text-xl font-semibold mb-3">Quick links</h3>
        <ul class="space-y-2 text-white/80">
          <li>üåê <a class="https://github.com/Airplanefox77" href="#" contenteditable="false" data-edit-key="link-1">Website / GitHub</a></li>
          <li>üì∑ <a class="glow-link" href="#" contenteditable="false" data-edit-key="link-2">Art Gallery</a></li>
          <li>üí¨ <a class="https://discord.gg/cPzdp6sx8B" href="#" contenteditable="false" data-edit-key="link-3">Discord Server: The Collective!</a></li>
        </ul>
      </aside>
    </div>
  </section>

  <!-- Work -->
  <section id="work" class="mx-auto max-w-6xl px-5 pt-10">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-2xl font-bold">Selected work</h2>
      <div class="text-xs text-white/60">Click a card to expand</div>
    </div>
    <div class="grid md:grid-cols-3 gap-6">
      <!-- Card 1 -->
      <article class="work-card glass rounded-3xl p-6 cursor-pointer" role="button" tabindex="0"
               data-modal-id="info-w1">
        <h3 class="font-semibold text-lg" contenteditable="false" data-edit-key="w1-title">AGS ‚Äî Advanced Game Status</h3>
        <p class="text-white/80" contenteditable="false" data-edit-key="w1-desc">Discord Rich Presence tool that auto-detects games and updates details like mission/location.</p>
        <div class="mt-3 flex flex-wrap gap-2 text-xs">
          <span class="tag glass rounded-full px-3 py-1" contenteditable="false" data-edit-key="w1-tag1">TypeScript</span>
          <span class="tag glass rounded-full px-3 py-1" contenteditable="false" data-edit-key="w1-tag2">Desktop</span>
        </div>
      </article>

      <!-- Card 2 -->
      <article class="work-card glass rounded-3xl p-6 cursor-pointer" role="button" tabindex="0"
               data-modal-id="info-w2">
        <h3 class="font-semibold text-lg" contenteditable="false" data-edit-key="w2-title">Void Saga ‚Äî Writing</h3>
        <p class="text-white/80" contenteditable="false" data-edit-key="w2-desc">A group of kids meets Vortex in The Void ‚Äî searching for Voreluim crystals and new worlds.</p>
        <div class="mt-3 flex flex-wrap gap-2 text-xs">
          <span class="tag glass rounded-full px-3 py-1" contenteditable="false" data-edit-key="w2-tag1">Worldbuilding</span>
          <span class="tag glass rounded-full px-3 py-1" contenteditable="false" data-edit-key="w2-tag2">Draft</span>
        </div>
      </article>

      <!-- Card 3 -->
      <article class="work-card glass rounded-3xl p-6 cursor-pointer" role="button" tabindex="0"
               data-modal-id="info-w3">
        <h3 class="font-semibold text-lg" contenteditable="false" data-edit-key="w3-title">Sketchbook ‚Äî Characters</h3>
        <p class="text-white/80" contenteditable="false" data-edit-key="w3-desc">Pencil-and-paper designs: bows, hoodies with sakura sleeves, and expressive foxes.</p>
        <div class="mt-3 flex flex-wrap gap-2 text-xs">
          <span class="tag glass rounded-full px-3 py-1" contenteditable="false" data-edit-key="w3-tag1">Art</span>
          <span class="tag glass rounded-full px-3 py-1" contenteditable="false" data-edit-key="w3-tag2">Pencil</span>
        </div>
      </article>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="mx-auto max-w-6xl px-5 pt-10 pb-20">
    <div class="glass rounded-3xl p-8">
      <h2 class="text-2xl font-bold">Let's talk</h2>
      <p class="text-white/80" contenteditable="false" data-edit-key="contact-msg">Wanna collab or just say hi? Drop a message on Discord or send an email. I don't bite, I just nibble fwuit. owo</p>
      <div class="mt-4 grid sm:grid-cols-2 gap-4">
        <a class="glass rounded-2xl px-4 py-3 text-center" href="#" contenteditable="false" data-edit-key="contact-1">üìß Email: vortexvoidthrone@gmail.com</a>
        <a class="glass rounded-2xl px-4 py-3 text-center" href="#" contenteditable="false" data-edit-key="contact-2">üí¨ Discord: sakura_kitsu</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="mx-auto max-w-6xl px-5 pb-10">
    <div class="glass rounded-2xl p-4 text-xs text-white/60 flex items-center justify-between">
      <div>¬© <span id="year"></span> Kitsu</div>
      <div class="flex items-center gap-2">
        <button id="saveBtn" class="hidden glass rounded-lg px-3 py-1 text-white/90">Save</button>
        <button id="cancelBtn" class="hidden rounded-lg px-3 py-1 border border-white/30">Cancel</button>
        <button id="resetBtn" class="hidden rounded-lg px-3 py-1 border border-white/30">Reset</button>
      </div>
    </div>
  </footer>

  <!-- Container where dynamic modals will be appended -->
  <div id="modals-root"></div>

  <script>
    // ===== Editable mode with password gate (kept hidden edit flow) =====
    const SECRET = 'kitsubow-2025'; // change if you like
    const secretBow = document.getElementById('secretBow');
    const saveBtn = document.getElementById('saveBtn');
    const cancelBtn = document.getElementById('cancelBtn');
    const resetBtn = document.getElementById('resetBtn');
    const yearEl = document.getElementById('year');
    yearEl.textContent = new Date().getFullYear();
    const editables = Array.from(document.querySelectorAll('[data-edit-key]'));

    function setEditing(on){
      editables.forEach(el=> el.contentEditable = on ? 'true' : 'false');
      saveBtn.classList.toggle('hidden', !on);
      cancelBtn.classList.toggle('hidden', !on);
      resetBtn.classList.toggle('hidden', !on);
      document.body.classList.toggle('editing', on);
    }
    function askPassword(){
      const input = prompt('Enter the secret to edit (hint: bow):');
      if(input === SECRET){ return true; }
      alert('Nope! Wrong secret.');
      return false;
    }
    function loadSaved(){
      const saved = JSON.parse(localStorage.getItem('kitsu-portfolio')||'{}');
      editables.forEach(el=>{ const key = el.dataset.editKey; if(saved[key] !== undefined){ el.innerHTML = saved[key]; } });
    }
    function saveAll(){
      const data = {};
      editables.forEach(el=>{ data[el.dataset.editKey] = el.innerHTML; });
      localStorage.setItem('kitsu-portfolio', JSON.stringify(data));
    }
    function resetAll(){
      if(!confirm('Reset all edits back to default?')) return;
      localStorage.removeItem('kitsu-portfolio');
      location.reload();
    }
    secretBow.addEventListener('click', ()=>{ if(askPassword()) setEditing(true); });
    window.addEventListener('keydown', (e)=>{
      const isCtrlE = (e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'e';
      if(isCtrlE){
        e.preventDefault();
        if(document.body.classList.contains('editing')){ setEditing(false); }
        else{ if(askPassword()) setEditing(true); }
      }
      if(e.key === 'Escape'){ closeAllModals(); }
    });
    saveBtn.addEventListener('click', ()=>{ saveAll(); setEditing(false); alert('Saved locally ‚ú®'); });
    cancelBtn.addEventListener('click', ()=>{ setEditing(false); loadSaved(); });
    resetBtn.addEventListener('click', resetAll);
    document.addEventListener('focusout', (e)=>{ if(document.body.classList.contains('editing') && e.target?.dataset?.editKey){ saveAll(); } });
    loadSaved();

    // ===== Work-card -> modal system =====
    const modalsRoot = document.getElementById('modals-root');

    // helper to sanitize & clone HTML safely for modal (we use innerText for editable content to avoid scripts)
    function getCardData(card) {
      const titleEl = card.querySelector('[data-edit-key^="w"][data-edit-key$="-title"]') || card.querySelector('h3');
      const descEl  = card.querySelector('[data-edit-key^="w"][data-edit-key$="-desc"]')  || card.querySelector('p');
      const tagEls  = card.querySelectorAll('[data-edit-key^="w"][data-edit-key*="tag"]') || [];
      return {
        id: card.dataset.modalId || ('modal-' + Math.random().toString(36).slice(2,9)),
        title: titleEl ? titleEl.innerText.trim() : 'Untitled',
        desc: descEl ? descEl.innerText.trim() : '',
        tags: Array.from(tagEls).map(t => t.innerText.trim()).filter(Boolean),
      };
    }

    // build a modal DOM node for a card (if not already created)
    function ensureModalForCard(card) {
      const data = getCardData(card);
      let modal = document.getElementById(data.id);
      if(modal) return modal;

      // create modal element
      modal = document.createElement('div');
      modal.className = 'modal';
      modal.id = data.id;
      modal.setAttribute('aria-hidden', 'true');
      modal.setAttribute('role', 'dialog');

      // modal inner HTML -- uses safe text content
      modal.innerHTML = `
        <div class="modal-content glass" role="document">
          <span class="close" data-close aria-label="Close">&times;</span>
          <div class="modal-header">
            <div style="display:flex; gap:12px; align-items:center;">
              <div class="modal-thumbnail" aria-hidden="true"></div>
              <div>
                <div class="modal-title">${escapeHtml(data.title)}</div>
                <div class="text-sm text-black/60 mt-1">${escapeHtml(data.desc).slice(0,140)}</div>
              </div>
            </div>
            <div style="min-width:120px; text-align:right;">
              <div class="text-xs text-black/50">Tags</div>
              <div class="modal-tags"></div>
            </div>
          </div>
          <div class="modal-body">
            <p>${escapeHtml(data.desc).replace(/\n/g,'<br>')}</p>
          </div>
        </div>
      `.trim();

      // populate tags area
      const tagsContainer = modal.querySelector('.modal-tags');
      data.tags.forEach(t=>{
        const span = document.createElement('span');
        span.className = 'tag glass rounded-full px-3 py-1 text-xs';
        span.textContent = t;
        tagsContainer.appendChild(span);
      });

      // append to root
      modalsRoot.appendChild(modal);

      // events: close btn & click outside
      modal.querySelector('[data-close]').addEventListener('click', ()=> closeCard(data.id));
      modal.addEventListener('click', (e)=>{
        if(e.target === modal){ closeCard(data.id); }
      });

      return modal;
    }

    // Escape HTML to avoid accidental HTML injection if users edit content
    function escapeHtml(str){
      if(!str) return '';
      return String(str)
        .replaceAll('&','&amp;')
        .replaceAll('<','&lt;')
        .replaceAll('>','&gt;')
        .replaceAll('"','&quot;')
        .replaceAll("'", '&#39;');
    }

    // open a card modal by element or id
    function openCardFromElement(card){
      // toggle small ring/scale effect for visual feedback
      card.classList.toggle('ring-2');
      card.classList.toggle('ring-white/40');
      card.classList.toggle('scale-[1.01]');

      const modal = ensureModalForCard(card);
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';

      // focus the close button for keyboard users
      const closeBtn = modal.querySelector('[data-close]');
      if(closeBtn) closeBtn.focus();
    }

    function closeCard(id) {
      const modal = document.getElementById(id);
      if(modal){
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden','true');
      }
      document.body.style.overflow = '';
      // remove any ring/scale classes from all cards (clean up)
      document.querySelectorAll('.work-card').forEach(c => {
        c.classList.remove('ring-2','ring-white/40','scale-[1.01]');
      });
    }

    function closeAllModals(){
      document.querySelectorAll('.modal').forEach(m => {
        m.style.display = 'none';
        m.setAttribute('aria-hidden','true');
      });
      document.body.style.overflow = '';
      document.querySelectorAll('.work-card').forEach(c => {
        c.classList.remove('ring-2','ring-white/40','scale-[1.01]');
      });
    }

    // attach click + keyboard handlers to all work-cards
    document.querySelectorAll('.work-card').forEach(card=>{
      // make sure it has a modal id
      if(!card.dataset.modalId){
        card.dataset.modalId = 'info-' + Math.random().toString(36).slice(2,8);
      }
      card.addEventListener('click', ()=> openCardFromElement(card));
      // open modal also on Enter/Space for accessibility
      card.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          openCardFromElement(card);
        }
      });
    });

    // close all modals on Escape (already handled in keydown earlier for editing flow, but keep safe)
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){ closeAllModals(); }
    });

    // on window resize ensure no scroll lock remains accidentally
    window.addEventListener('resize', ()=> {
      const anyOpen = Array.from(document.querySelectorAll('.modal')).some(m => m.style.display === 'flex');
      document.body.style.overflow = anyOpen ? 'hidden' : '';
    });

  </script>
</body>
</html>

